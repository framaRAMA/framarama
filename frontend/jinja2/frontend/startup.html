{% extends "frontend/base.html" %}

{% block content %}
  <div id="setup" class="text-center text-muted">
    Starting up ...
  </div>

  <div id="status" class="pt-5 pb-5 text-center">
    <div id="status-setup">{{ lib.status_icons('float-none fs-1') }}</div>
  </div>
  <div id="continue" class="pt-5 pb-5 text-center d-none">
    <a href="{{ return|default(url('fe_index')) }}" class="btn btn-primary">OK</a>
  </div>

  {{ lib.status_script('setup', 'setup_status') }}

  <script type="text/javascript">
    function setup_status(status, data) {
      if (status == 'success') {
        let setupElement = window.document.getElementById('setup');
        setupElement.innerHTML = 'Startup complete!'
        let statusElement = window.document.getElementById('status');
        statusElement.className += ' d-none';
        let continueElement = window.document.getElementById('continue');
        continueElement.className = continueElement.className.replace('d-none', '');
      }
    }
  </script>
{% endblock %}
